<!DOCTYPE html>
<style>
	.equationCenter {
		position: fixed;
		top: 50%;
		left: 50%;
		-webkit-transform: translate(-50%, -50%);
		transform: translate(-50%, -50%);
	}
	.buttonBlock button {
		display: block;
	}
</style>
<html>
<head>
</head>
<body>
<div>
	<button id="addAnd" value="andOr" style="visibility:hidden" onclick="addAndOr(this)">Add And</button>
	<button id="addOr" value="andOr" style="visibility:hidden" onclick="addAndOr(this)">Add Or</button>
	<button id="backspace" value="backspace" style="visibility:hidden" onclick="removeLast()"><<</button>
	<input type="text" id="equivalencyValue" style="visibility:hidden" placeholder="Enter Equivalency">
	<button id="addEquivalency" style="visibility:hidden" onclick="addEquivalency()">Enter</button>
	</div>
<div>
	<div class="buttonBlock">
		<button id="greaterThan" value="sign" style="visibility:hidden" onclick="addSign(this)">></button>
		<button id="lessThan" value="sign" style="visibility:hidden" onclick="addSign(this)"><</button>
		<button id="equal" value="sign" style="visibility:hidden" onclick="addSign(this)">=</button>
		<button id="greaterThanEqual" value="sign" style="visibility:hidden" onclick="addSign(this)">>=</button>
		<button id="lessthanEqual" value="sign" style="visibility:hidden" onclick="addSign(this)"><=</button>
	</div>
<div>
	<div class="buttonBlock">
		<button id="name" value="attribute" onclick="addAttribute(this)">Name</button>
		<button id="experience" value="attribute" onclick="addAttribute(this)">Experience</button>
		<button id="day" value="attribute" onclick="addAttribute(this)">Day</button>
	</div>
<div>
	<div class="equationCenter">
		<p id="equation">if ()</p>
	</div>
<script type="text/javascript">
	var obbyject = {name: "object.name", experience: "object.experience", day: "object.day"};
	var buildEquation = new Array();
	var buildEquationTypes = new Array();
	function addEquivalency() {
		var entered = document.getElementById("equivalencyValue").value.toString();
		buildEquation.push(entered);
		if (!/[^a-zA-Z]/.test(entered) == true) {
			buildEquationTypes.push("valueS");
		} else if (/^\d+$/.test(entered) = true) {
			buildEquationTypes.push("valueN");
		} else {
			buildEquationTypes.push("valueI");
		}
		document.getElementById("equivalencyValue").value = "";
		verifyEquation("equivalency");
	}
	function addSign(sign) {
		if (sign.id == "greaterThan") {
			buildEquation.push(">");
		} else if (sign.id == "lessThan") {
			buildEquation.push("<");
		} else if (sign.id == "equal") {
			buildEquation.push("==");
		} else if (sign.id == "greaterThanEqual") {
			buildEquation.push(">=");
		} else {
			buildEquation.push("<=");
		}
		buildEquationTypes.push("sign");
		verifyEquation(sign.value);
	}
	function addAndOr(condition) {
		if (condition.id == "addAnd") {
			buildEquation.push("&");
		} else {
			buildEquation.push("|");
		}
		buildEquationTypes.push("andOr");
		verifyEquation(condition.value);
	}
	function addAttribute(attribute) {
		document.getElementById("backspace").style.visibility = "hidden";
		if (attribute.id == "name") {
			buildEquation.push(obbyject.name);
		} else if (attribute.id == "experience") {
			buildEquation.push(obbyject.experience);
		} else {
			buildEquation.push(obbyject.day);
		}
		buildEquationTypes.push(attribute.value);
		verifyEquation(attribute.value);
	}
	function removeLast() {
		if (buildEquation.length != 0) {
			buildEquation.pop();
			buildEquationTypes.pop();
		}
		verifyEquation("backspace");
	}
	function verifyEquation(last) {
		var conditionals = ["&", "|"]
		if (last == "andOr") {
			if (buildEquation.length < 2) {
				buildEquation.pop();
				buildEquationTypes.pop();
				alert("Cannot begin equation with conditionals.");
				document.getElementById("equation").innerHTML = "if ()";
				return;
			}
			else if (buildEquationTypes[buildEquationTypes.length - 2] == "andOr") {
				buildEquation.pop();
				buildEquationTypes.pop();
				alert("Cannot use repeating conditionals.");
			}
		} else if (last == "backspace") {
			if (buildEquation.length == 0) {
				document.getElementById("equation").innerHTML = "if ()";
				document.getElementById("backspace").style.visibility = "hidden";
				return;
			}
		} else if (last == "attribute") {
			document.getElementById("equation").innerHTML = "if (" + buildEquation.join(" ") + ")";
			document.getElementById("name").style.visibility = "hidden";
			document.getElementById("experience").style.visibility = "hidden";
			document.getElementById("day").style.visibility = "hidden";
			document.getElementById("greaterThan").style.visibility = "visible";
			document.getElementById("equal").style.visibility = "visible";
			document.getElementById("lessThan").style.visibility = "visible";
			document.getElementById("greaterThanEqual").style.visibility = "visible";
			document.getElementById("lessThanEqual").style.visibility = "visible";
		} else if (last == "sign") {
			document.getElementById("equation").innerHTML = "if (" + buildEquation.join(" ") + ")";
			document.getElementById("equivalencyValue").style.visibility = "visible";
			document.getElementById("addEquivalency").style.visibility = "visible";
			document.getElementById("greaterThan").style.visibility = "hidden";
			document.getElementById("equal").style.visibility = "hidden";
			document.getElementById("lessThan").style.visibility = "hidden";
			document.getElementById("greaterThanEqual").style.visibility = "hidden";
			document.getElementById("lessThanEqual").style.visibility = "hidden";
		}
	}
	
	
	
	/*document.getElementById("addAnd").addEventListener("click", function(){
		addToCondition(document.getElementById("addAnd").val());
	});
	document.getElementById("addOr").addEventListener("click", function(){
		addToCondition(document.getElementById("addOr").val());
	});*/
</script>
</body>
</html>
